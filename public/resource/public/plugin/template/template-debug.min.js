/*!
 * artTemplate - Template Engine
 * https://github.com/aui/artTemplate
 * Released under the MIT, BSD, and GPL Licenses
 */
!(function(){var z=function(A,B){return typeof B==="string"?i(B,{filename:A}):n(A,B)};z.version="3.0.0";z.config=function(A,B){k[A]=B};var k=z.defaults={openTag:"<%",closeTag:"%>",escape:true,cache:true,compress:false,parser:null};var d=z.cache={};z.render=function(B,A){return i(B,A)};var n=z.renderFile=function(A,C){var B=z.get(A)||q({filename:A,name:"Render Error",message:"Template not found"});return C?B(C):B};z.get=function(B){var A;if(d[B]){A=d[B]}else{if(typeof document==="object"){var C=document.getElementById(B);if(C){var D=(C.value||C.innerHTML).replace(/^\s*|\s*$/g,"");A=i(D,{filename:B})}}}return A};var w=function(B,A){if(typeof B!=="string"){A=typeof B;if(A==="number"){B+=""}else{if(A==="function"){B=w(B.call(B))}else{B=""}}}return B};var h={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};var a=function(A){return h[A]};var t=function(A){return w(A).replace(/&(?![\w#]+;)|[<>"']/g,a)};var l=Array.isArray||function(A){return({}).toString.call(A)==="[object Array]"};var c=function(C,D){var B,A;if(l(C)){for(B=0,A=C.length;B<A;B++){D.call(C,C[B],B,C)}}else{for(B in C){D.call(C,C[B],B)}}};var y=z.utils={$helpers:{},$include:n,$string:w,$escape:t,$each:c};z.helper=function(A,B){u[A]=B};var u=z.helpers=y.$helpers;z.onerror=function(C){var B="Template Error\n\n";for(var A in C){B+="<"+A+">\n"+C[A]+"\n\n"}if(typeof console==="object"){console.error(B)}};var q=function(A){z.onerror(A);return function(){return"{Template Error}"}};var i=z.compile=function(F,C){C=C||{};for(var B in k){if(C[B]===undefined){C[B]=k[B]}}var A=C.filename;try{var D=p(F,C)}catch(G){G.filename=A||"anonymous";G.name="Syntax Error";return q(G)}function E(K,H){try{var I=new D(K,A)+"";if(H&&l(H)){for(var J=H.length-1;J>=0;J--){var M=H[J];I=I.replace(new RegExp(M+" ","g"),"hide ")}}return I}catch(L){if(!C.debug){C.debug=true;return i(F,C)(K)}return q(L)()}}E.prototype=D.prototype;E.toString=function(){return D.toString()};if(A&&C.cache){d[A]=E}return E};var x=y.$each;var b="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined";var g=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g;var m=/[^\w$]+/g;var f=new RegExp(["\\b"+b.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g");var r=/^\d[^,]*|,\d[^,]*/g;var j=/^,+|,+$/g;var o=/^$|,+/;function s(A){return A.replace(g,"").replace(m,",").replace(f,"").replace(r,"").replace(j,"").split(o)}function v(A){return"'"+A.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function p(Q,F){var N=F.debug;var L=F.openTag;var H=F.closeTag;var D=F.parser;var U=F.compress;var R=F.escape;var J=1;var P={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1};var C={};var W="".trim;var Y=W?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"];var G=W?"$out+=text;return $out;":"$out.push(text);";var E="function(){var text=''.concat.apply('',arguments);"+G+"}";var A="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+G+"}";var M="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(N?"$line=0,":"");var S=Y[0];var K="return new String("+Y[3]+");";x(Q.split(L),function(ab){ab=ab.split(H);var aa=ab[0];var Z=ab[1];if(ab.length===1){S+=I(aa)}else{S+=T(aa);if(Z){S+=I(Z)}}});var B=M+S+K;if(N){B="try{"+B+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+v(Q)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}"}try{var X=new Function("$data","$filename",B);X.prototype=y;return X}catch(V){V.temp="function anonymous($data,$filename) {"+B+"}";throw V}function O(af){var aa="";var ae=/\.(\w)/g;var Z,ab;var ad=af.lastIndexOf(".");var ac=af.match(/\./g);if(ac&&ac.length>1){if(ad!=-1){Z=af.substr(0,ad);ab=Z.replace(ae,function(ag){return ag.replace(".","").toUpperCase()});aa=ab+af.substr(ad);C[ab]=Z}}return aa?aa:af}function I(Z){J+=Z.split(/\n/).length-1;if(U){Z=Z.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")}if(Z){Z=Y[1]+v(Z)+Y[2]+"\n"}return Z}function T(ab){var ac=J;if(D){ab=D(ab,F)}else{if(N){ab=ab.replace(/\n/g,function(){J++;return"$line="+J+";"})}}if(ab.indexOf("=")===0){var Z=R&&!/^=[=#]/.test(ab);ab=ab.replace(/^=[=#]?|[\s;]*$/g,"");ab=O(ab);if(Z){var aa=ab.replace(/\s*\([^\)]+\)/,"");if(!y[aa]&&!/^(include|print)$/.test(aa)){ab="$escape("+ab+")"}}else{ab="$string("+ab+")"}ab=Y[1]+ab+Y[2]}if(N){ab="$line="+ac+";"+ab}x(s(ab),function(ad){if(!ad||P[ad]){return}var ae;if(ad==="print"){ae=E}else{if(ad==="include"){ae=A}else{if(y[ad]){ae="$utils."+ad}else{if(u[ad]){ae="$helpers."+ad}else{if(C[ad]){ae="$data."+C[ad]}else{ae="$data."+ad}}}}}M+=ad+"=("+ae+" === 0 ? 0 : ("+ae+" ? "+ae+" : {})), ";P[ad]=true});return ab+"\n"}}k.openTag="{{";k.closeTag="}}";var e=function(E,C){var D=C.split(":");var B=D.shift();var A=D.join(":")||"";if(A){A=", "+A}return"$helpers."+B+"("+E+A+")"};k.parser=function(A,O){A=A.replace(/^\s/,"");var K=A.split(" ");var M=K.shift();var J=K.join(" ");switch(M){case"if":A="if("+J+"){";break;case"else":if(K.shift()==="if"){K=" if("+K.join(" ")+")"}else{K=""}A="}else"+K+"{";break;case"/if":A="}";break;case"each":var E=K[0]||"$data";var D=K[1]||"as";var L=K[2]||"$value";var H=K[3]||"$index";var C=L+","+H;if(D!=="as"){E="[]"}A="$each("+E+",function("+C+"){";break;case"/each":A="});";break;case"echo":A="print("+J+");";break;case"print":case"include":A=M+"("+K.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(J)){var N=true;if(A.indexOf("#")===0){A=A.substr(1);N=false}var F=0;var I=A.split("|");var G=I.length;var B=I[F++];for(;F<G;F++){B=e(B,I[F])}A=(N?"=":"=#")+B}else{if(z.helpers[M]){A="=#"+M+"("+K.join(",")+");"}else{A="="+A}}break}return A};if(typeof define==="function"){define(function(){return z})}else{if(typeof exports!=="undefined"){module.exports=z}else{this.template=z}}})();