/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/
!function(){function Z(b){return b.replace(G,"").replace(F,",").replace(E,"").replace(D,"").replace(C,"").split(B)}function Y(b){return"'"+b.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function X(ar,aq){function ap(c){return ah+=c.split(/\n/).length-1,aj&&(c=c.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),c&&(c=ac[1]+Y(c)+ac[2]+"\n"),c}function ao(d){var i=ah;if(ak?d=ak(d,aq):an&&(d=d.replace(/\n/g,function(){return ah++,"$line="+ah+";"})),0===d.indexOf("=")){var h=ai&&!/^=[=#]/.test(d);if(d=d.replace(/^=[=#]?|[\s;]*$/g,""),h){var g=d.replace(/\s*\([^\)]+\)/,"");M[g]||/^(include|print)$/.test(g)||(d="$escape("+d+")")}else{d="$string("+d+")"}d=ac[1]+d+ac[2]}return an&&(d="$line="+i+";"+d),I(Z(d),function(e){if(e&&!ag[e]){var c;c="print"===e?aa:"include"===e?r:M[e]?"$utils."+e:L[e]?"$helpers."+e:"$data."+e,o+=e+"="+c+",",ag[e]=!0}}),d+"\n"}var an=aq.debug,am=aq.openTag,al=aq.closeTag,ak=aq.parser,aj=aq.compress,ai=aq.escape,ah=1,ag={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},ae="".trim,ac=ae?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],ab=ae?"$out+=text;return $out;":"$out.push(text);",aa="function(){var text=''.concat.apply('',arguments);"+ab+"}",r="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+ab+"}",o="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(an?"$line=0,":""),n=ac[0],b="return new String("+ac[3]+");";I(ar.split(am),function(e){e=e.split(al);var d=e[0],f=e[1];1===e.length?n+=ap(d):(n+=ao(d),f&&(n+=ap(f)))});var a=o+n+b;an&&(a="try{"+a+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+Y(ar)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var af=new Function("$data","$filename",a);return af.prototype=M,af}catch(ad){throw ad.temp="function anonymous($data,$filename) {"+a+"}",ad}}var W=function(d,c){return"string"==typeof c?J(c,{filename:d}):T(d,c)};W.version="3.0.0",W.config=function(d,c){V[d]=c};var V=W.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},U=W.cache={};W.render=function(d,c){return J(d,c)};var T=W.renderFile=function(e,d){var f=W.get(e)||K({filename:e,name:"Render Error",message:"Template not found"});return d?f(d):f};W.get=function(f){var e;if(U[f]){e=U[f]}else{if("object"==typeof document){var h=document.getElementById(f);if(h){var g=(h.value||h.innerHTML).replace(/^\s*|\s*$/g,"");e=J(g,{filename:f})}}}return e};var S=function(d,c){return"string"!=typeof d&&(c=typeof d,"number"===c?d+="":d="function"===c?S(d.call(d)):""),d},R={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},Q=function(b){return R[b]},P=function(b){return S(b).replace(/&(?![\w#]+;)|[<>"']/g,Q)},O=Array.isArray||function(b){return"[object Array]"==={}.toString.call(b)},N=function(f,e){var h,g;if(O(f)){for(h=0,g=f.length;g>h;h++){e.call(f,f[h],h,f)}}else{for(h in f){e.call(f,f[h],h)}}},M=W.utils={$helpers:{},$include:T,$string:S,$escape:P,$each:N};W.helper=function(d,c){L[d]=c};var L=W.helpers=M.$helpers;W.onerror=function(e){var d="Template Error\n\n";for(var f in e){d+="<"+f+">\n"+e[f]+"\n\n"}"object"==typeof console&&console.error(d)};var K=function(b){return W.onerror(b),function(){return"{Template Error}"}},J=W.compile=function(e,c){function n(b){try{return new k(b,l)+""}catch(a){return c.debug?K(a)():(c.debug=!0,J(e,c)(b))}}c=c||{};for(var m in V){void 0===c[m]&&(c[m]=V[m])}var l=c.filename;try{var k=X(e,c)}catch(f){return f.filename=l||"anonymous",f.name="Syntax Error",K(f)}return n.prototype=k.prototype,n.toString=function(){return k.toString()},l&&c.cache&&(U[l]=n),n},I=M.$each,H="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",G=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,F=/[^\w$]+/g,E=new RegExp(["\\b"+H.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),D=/^\d[^,]*|,\d[^,]*/g,C=/^,+|,+$/g,B=/^$|,+/;V.openTag="{{",V.closeTag="}}";var A=function(g,f){var j=f.split(":"),i=j.shift(),h=j.join(":")||"";return h&&(h=", "+h),"$helpers."+i+"("+g+h+")"};V.parser=function(af,ae){af=af.replace(/^\s/,"");var ad=af.split(" "),ac=ad.shift(),ab=ad.join(" ");switch(ac){case"if":af="if("+ab+"){";break;case"else":ad="if"===ad.shift()?" if("+ad.join(" ")+")":"",af="}else"+ad+"{";break;case"/if":af="}";break;case"each":var aa=ad[0]||"$data",z=ad[1]||"as",y=ad[2]||"$value",x=ad[3]||"$index",w=y+","+x;"as"!==z&&(aa="[]"),af="$each("+aa+",function("+w+"){";break;case"/each":af="});";break;case"echo":af="print("+ab+");";break;case"print":case"include":af=ac+"("+ad.join(",")+");";break;default:if(-1!==ab.indexOf("|")){var v=ae.escape;0===af.indexOf("#")&&(af=af.substr(1),v=!1);for(var u=0,t=af.split("|"),s=t.length,r=v?"$escape":"$string",d=r+"("+t[u++]+")";s>u;u++){d=A(d,t[u])}af="=#"+d}else{af=W.helpers[ac]?"=#"+ac+"("+ad.join(",")+");":"="+af}}return af},"function"==typeof define?define(function(){return W}):"undefined"!=typeof exports?module.exports=W:this.template=W}();